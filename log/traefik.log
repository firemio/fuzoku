2024-06-04T14:18:57Z INF github.com/traefik/traefik/v3/cmd/traefik/traefik.go:100 > Traefik version 3.0.1 built on 2024-05-22T13:12:16Z version=3.0.1
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/cmd/traefik/traefik.go:107 > Static configuration loaded [json] staticConfiguration={"api":{"dashboard":true,"insecure":true},"certificatesResolvers":{"myresolver":{"acme":{"caServer":"https://acme-v02.api.letsencrypt.org/directory","certificatesDuration":2160,"email":"firemio@gmail.com","keyType":"RSA4096","storage":"./letsencrypt/acme.json","tlsChallenge":{}}}},"entryPoints":{"traefik":{"address":":8080","forwardedHeaders":{},"http":{},"http2":{"maxConcurrentStreams":250},"transport":{"lifeCycle":{"graceTimeOut":"10s"},"respondingTimeouts":{"idleTimeout":"3m0s","readTimeout":"1m0s"}},"udp":{"timeout":"3s"}},"web":{"address":":80","forwardedHeaders":{},"http":{"redirections":{"entryPoint":{"permanent":true,"priority":9223372036854775806,"scheme":"https","to":"websecure"}}},"http2":{"maxConcurrentStreams":250},"transport":{"lifeCycle":{"graceTimeOut":"10s"},"respondingTimeouts":{"idleTimeout":"3m0s","readTimeout":"1m0s"}},"udp":{"timeout":"3s"}},"websecure":{"address":":443","forwardedHeaders":{},"http":{},"http2":{"maxConcurrentStreams":250},"transport":{"lifeCycle":{"graceTimeOut":"10s"},"respondingTimeouts":{"idleTimeout":"3m0s","readTimeout":"1m0s"}},"udp":{"timeout":"3s"}}},"global":{"checkNewVersion":true},"log":{"filePath":"/log/traefik.log","format":"common","level":"DEBUG"},"providers":{"docker":{"defaultRule":"Host(`{{ normalize .Name }}`)","endpoint":"unix:///var/run/docker.sock","exposedByDefault":true,"watch":true},"providersThrottleDuration":"2s"},"serversTransport":{"maxIdleConnsPerHost":200},"tcpServersTransport":{"dialKeepAlive":"15s","dialTimeout":"30s"}}
2024-06-04T14:18:57Z INF github.com/traefik/traefik/v3/cmd/traefik/traefik.go:605 > 
Stats collection is disabled.
Help us improve Traefik by turning this feature on :)
More details on: https://doc.traefik.io/traefik/contributing/data-collection/

2024-06-04T14:18:57Z INF github.com/traefik/traefik/v3/pkg/server/configurationwatcher.go:73 > Starting provider aggregator aggregator.ProviderAggregator
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:220 > Starting TCP Server entryPointName=web
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:220 > Starting TCP Server entryPointName=websecure
2024-06-04T14:18:57Z INF github.com/traefik/traefik/v3/pkg/provider/aggregator/aggregator.go:202 > Starting provider *traefik.Provider
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/provider/aggregator/aggregator.go:203 > *traefik.Provider provider configuration config={}
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:220 > Starting TCP Server entryPointName=traefik
2024-06-04T14:18:57Z INF github.com/traefik/traefik/v3/pkg/provider/aggregator/aggregator.go:202 > Starting provider *acme.ChallengeTLSALPN
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/provider/aggregator/aggregator.go:203 > *acme.ChallengeTLSALPN provider configuration config={}
2024-06-04T14:18:57Z INF github.com/traefik/traefik/v3/pkg/provider/aggregator/aggregator.go:202 > Starting provider *docker.Provider
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/provider/aggregator/aggregator.go:203 > *docker.Provider provider configuration config={"defaultRule":"Host(`{{ normalize .Name }}`)","endpoint":"unix:///var/run/docker.sock","exposedByDefault":true,"watch":true}
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/server/configurationwatcher.go:227 > Configuration received config={"http":{"middlewares":{"dashboard_redirect":{"redirectRegex":{"permanent":true,"regex":"^(http:\\/\\/(\\[[\\w:.]+\\]|[\\w\\._-]+)(:\\d+)?)\\/$","replacement":"${1}/dashboard/"}},"dashboard_stripprefix":{"stripPrefix":{"prefixes":["/dashboard/","/dashboard"]}},"redirect-web-to-websecure":{"redirectScheme":{"permanent":true,"port":"443","scheme":"https"}}},"routers":{"api":{"entryPoints":["traefik"],"priority":9223372036854775806,"rule":"PathPrefix(`/api`)","ruleSyntax":"v3","service":"api@internal"},"dashboard":{"entryPoints":["traefik"],"middlewares":["dashboard_redirect@internal","dashboard_stripprefix@internal"],"priority":9223372036854775805,"rule":"PathPrefix(`/`)","ruleSyntax":"v3","service":"dashboard@internal"},"web-to-websecure":{"entryPoints":["web"],"middlewares":["redirect-web-to-websecure"],"priority":9223372036854775806,"rule":"HostRegexp(`^.+$`)","ruleSyntax":"v3","service":"noop@internal"}},"serversTransports":{"default":{"maxIdleConnsPerHost":200}},"services":{"api":{},"dashboard":{},"noop":{}}},"tcp":{"serversTransports":{"default":{"dialKeepAlive":"15s","dialTimeout":"30s"}}},"tls":{},"udp":{}} providerName=internal
2024-06-04T14:18:57Z INF github.com/traefik/traefik/v3/pkg/provider/aggregator/aggregator.go:202 > Starting provider *acme.Provider
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/provider/aggregator/aggregator.go:203 > *acme.Provider provider configuration config={"HTTPChallengeProvider":{},"ResolverName":"myresolver","TLSChallengeProvider":{},"caServer":"https://acme-v02.api.letsencrypt.org/directory","certificatesDuration":2160,"email":"firemio@gmail.com","keyType":"RSA4096","storage":"./letsencrypt/acme.json","store":{},"tlsChallenge":{}}
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:213 > Attempt to renew certificates "720h0m0s" before expiry and check every "24h0m0s" acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme
2024-06-04T14:18:57Z INF github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:795 > Testing certificate renew... acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/server/configurationwatcher.go:227 > Configuration received config={"http":{},"tcp":{},"tls":{},"udp":{}} providerName=myresolver.acme
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/provider/docker/pdocker.go:89 > Provider connection established with docker 24.0.5 (API 1.43) providerName=docker
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/server/configurationwatcher.go:227 > Configuration received config={"http":{"routers":{"traefik-dashboard":{"entryPoints":["websecure"],"rule":"Host(`traefik.omotenashi-tokyo.com`)","service":"api@internal","tls":{"certResolver":"myresolver"}},"web":{"entryPoints":["websecure"],"rule":"Host(`omotenashi-tokyo.com`)","service":"web","tls":{"certResolver":"myresolver"}}},"services":{"traefik-omotenashi-tokyo":{"loadBalancer":{"passHostHeader":true,"responseForwarding":{"flushInterval":"100ms"},"servers":[{"url":"http://172.23.0.2:80"}]}},"web":{"loadBalancer":{"passHostHeader":true,"responseForwarding":{"flushInterval":"100ms"},"servers":[{"url":"http://172.23.0.3:3000"}]}}}},"tcp":{},"tls":{},"udp":{}} providerName=docker
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/tls/tlsmanager.go:321 > No default certificate, fallback to the internal generated certificate tlsStoreName=default
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/middlewares/stripprefix/strip_prefix.go:32 > Creating middleware entryPointName=traefik middlewareName=dashboard_stripprefix@internal middlewareType=StripPrefix routerName=dashboard@internal
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/middlewares/observability/middleware.go:33 > Adding tracing to middleware entryPointName=traefik middlewareName=dashboard_stripprefix@internal routerName=dashboard@internal
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_regex.go:17 > Creating middleware entryPointName=traefik middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex routerName=dashboard@internal
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_regex.go:18 > Setting up redirection from ^(http:\/\/(\[[\w:.]+\]|[\w\._-]+)(:\d+)?)\/$ to ${1}/dashboard/ entryPointName=traefik middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex routerName=dashboard@internal
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/middlewares/observability/middleware.go:33 > Adding tracing to middleware entryPointName=traefik middlewareName=dashboard_redirect@internal routerName=dashboard@internal
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=traefik middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_scheme.go:29 > Creating middleware entryPointName=web middlewareName=redirect-web-to-websecure@internal middlewareType=RedirectScheme routerName=web-to-websecure@internal
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_scheme.go:30 > Setting up redirection to https 443 entryPointName=web middlewareName=redirect-web-to-websecure@internal middlewareType=RedirectScheme routerName=web-to-websecure@internal
2024-06-04T14:18:57Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=web middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/tls/tlsmanager.go:321 > No default certificate, fallback to the internal generated certificate tlsStoreName=default
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_scheme.go:29 > Creating middleware entryPointName=web middlewareName=redirect-web-to-websecure@internal middlewareType=RedirectScheme routerName=web-to-websecure@internal
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_scheme.go:30 > Setting up redirection to https 443 entryPointName=web middlewareName=redirect-web-to-websecure@internal middlewareType=RedirectScheme routerName=web-to-websecure@internal
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=web middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/middlewares/stripprefix/strip_prefix.go:32 > Creating middleware entryPointName=traefik middlewareName=dashboard_stripprefix@internal middlewareType=StripPrefix routerName=dashboard@internal
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/middlewares/observability/middleware.go:33 > Adding tracing to middleware entryPointName=traefik middlewareName=dashboard_stripprefix@internal routerName=dashboard@internal
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_regex.go:17 > Creating middleware entryPointName=traefik middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex routerName=dashboard@internal
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_regex.go:18 > Setting up redirection from ^(http:\/\/(\[[\w:.]+\]|[\w\._-]+)(:\d+)?)\/$ to ${1}/dashboard/ entryPointName=traefik middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex routerName=dashboard@internal
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/middlewares/observability/middleware.go:33 > Adding tracing to middleware entryPointName=traefik middlewareName=dashboard_redirect@internal routerName=dashboard@internal
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=traefik middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/server/service/service.go:259 > Creating load-balancer entryPointName=websecure routerName=web@docker serviceName=web@docker
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/server/service/service.go:301 > Creating server entryPointName=websecure routerName=web@docker serverName=3cfc64e09737f01e serviceName=web@docker target=http://172.23.0.3:3000
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=websecure middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/server/router/tcp/manager.go:237 > Adding route for traefik.omotenashi-tokyo.com with TLS options default entryPointName=websecure
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/server/router/tcp/manager.go:237 > Adding route for omotenashi-tokyo.com with TLS options default entryPointName=websecure
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:384 > Trying to challenge certificate for domain [omotenashi-tokyo.com] found in HostSNI rule ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:384 > Trying to challenge certificate for domain [traefik.omotenashi-tokyo.com] found in HostSNI rule ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:851 > Looking for provided certificate(s) to validate ["traefik.omotenashi-tokyo.com"]... ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:851 > Looking for provided certificate(s) to validate ["omotenashi-tokyo.com"]... ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:897 > Domains need ACME certificates generation for domains "traefik.omotenashi-tokyo.com". ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory domains=["traefik.omotenashi-tokyo.com"] providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:619 > Loading ACME certificates [traefik.omotenashi-tokyo.com]... ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:897 > Domains need ACME certificates generation for domains "omotenashi-tokyo.com". ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory domains=["omotenashi-tokyo.com"] providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:18:58Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:619 > Loading ACME certificates [omotenashi-tokyo.com]... ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:00Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:251 > Building ACME client... providerName=myresolver.acme
2024-06-04T14:19:00Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:257 > https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme
2024-06-04T14:19:00Z INF github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:371 > Register... providerName=myresolver.acme
2024-06-04T14:19:00Z DBG github.com/go-acme/lego/v4@v4.16.1/log/logger.go:48 > [INFO] acme: Registering account for firemio@gmail.com lib=lego
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:331 > Using TLS Challenge provider. providerName=myresolver.acme
2024-06-04T14:19:01Z DBG github.com/go-acme/lego/v4@v4.16.1/log/logger.go:48 > [INFO] [traefik.omotenashi-tokyo.com] acme: Obtaining bundled SAN certificate lib=lego
2024-06-04T14:19:01Z DBG github.com/go-acme/lego/v4@v4.16.1/log/logger.go:48 > [INFO] [omotenashi-tokyo.com] acme: Obtaining bundled SAN certificate lib=lego
2024-06-04T14:19:01Z ERR github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:396 > Unable to obtain ACME certificate for domains error="unable to generate a certificate for the domains [omotenashi-tokyo.com]: acme: error: 429 :: POST :: https://acme-v02.api.letsencrypt.org/acme/new-order :: urn:ietf:params:acme:error:rateLimited :: Error creating new order :: too many certificates (5) already issued for this exact set of domains in the last 168 hours: omotenashi-tokyo.com, retry after 2024-06-05T15:35:22Z: see https://letsencrypt.org/docs/duplicate-certificate-limit/" ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory domains=["omotenashi-tokyo.com"] providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:01Z DBG github.com/go-acme/lego/v4@v4.16.1/log/logger.go:48 > [INFO] [traefik.omotenashi-tokyo.com] AuthURL: https://acme-v02.api.letsencrypt.org/acme/authz-v3/359585611197 lib=lego
2024-06-04T14:19:01Z DBG github.com/go-acme/lego/v4@v4.16.1/log/logger.go:48 > [INFO] [traefik.omotenashi-tokyo.com] acme: use tls-alpn-01 solver lib=lego
2024-06-04T14:19:01Z DBG github.com/go-acme/lego/v4@v4.16.1/log/logger.go:48 > [INFO] [traefik.omotenashi-tokyo.com] acme: Trying to solve TLS-ALPN-01 lib=lego
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/challenge_tls.go:42 > TLS Challenge Present temp certificate for traefik.omotenashi-tokyo.com providerName=tlsalpn.acme
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/server/configurationwatcher.go:227 > Configuration received config={"http":{},"tcp":{},"tls":{},"udp":{}} providerName=tlsalpn.acme
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/tls/certificate.go:131 > Adding certificate for domain(s) acme challenge temp,traefik.omotenashi-tokyo.com
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/tls/tlsmanager.go:321 > No default certificate, fallback to the internal generated certificate tlsStoreName=default
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_scheme.go:29 > Creating middleware entryPointName=web middlewareName=redirect-web-to-websecure@internal middlewareType=RedirectScheme routerName=web-to-websecure@internal
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_scheme.go:30 > Setting up redirection to https 443 entryPointName=web middlewareName=redirect-web-to-websecure@internal middlewareType=RedirectScheme routerName=web-to-websecure@internal
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=web middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/middlewares/stripprefix/strip_prefix.go:32 > Creating middleware entryPointName=traefik middlewareName=dashboard_stripprefix@internal middlewareType=StripPrefix routerName=dashboard@internal
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/middlewares/observability/middleware.go:33 > Adding tracing to middleware entryPointName=traefik middlewareName=dashboard_stripprefix@internal routerName=dashboard@internal
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_regex.go:17 > Creating middleware entryPointName=traefik middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex routerName=dashboard@internal
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_regex.go:18 > Setting up redirection from ^(http:\/\/(\[[\w:.]+\]|[\w\._-]+)(:\d+)?)\/$ to ${1}/dashboard/ entryPointName=traefik middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex routerName=dashboard@internal
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/middlewares/observability/middleware.go:33 > Adding tracing to middleware entryPointName=traefik middlewareName=dashboard_redirect@internal routerName=dashboard@internal
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=traefik middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/server/service/service.go:259 > Creating load-balancer entryPointName=websecure routerName=web@docker serviceName=web@docker
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/server/service/service.go:301 > Creating server entryPointName=websecure routerName=web@docker serverName=3cfc64e09737f01e serviceName=web@docker target=http://172.23.0.3:3000
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=websecure middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/server/router/tcp/manager.go:237 > Adding route for omotenashi-tokyo.com with TLS options default entryPointName=websecure
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/server/router/tcp/manager.go:237 > Adding route for traefik.omotenashi-tokyo.com with TLS options default entryPointName=websecure
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:384 > Trying to challenge certificate for domain [omotenashi-tokyo.com] found in HostSNI rule ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:384 > Trying to challenge certificate for domain [traefik.omotenashi-tokyo.com] found in HostSNI rule ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:851 > Looking for provided certificate(s) to validate ["traefik.omotenashi-tokyo.com"]... ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:895 > No ACME certificate generation required for domains ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory domains=["traefik.omotenashi-tokyo.com"] providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:851 > Looking for provided certificate(s) to validate ["omotenashi-tokyo.com"]... ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:897 > Domains need ACME certificates generation for domains "omotenashi-tokyo.com". ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory domains=["omotenashi-tokyo.com"] providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:01Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:619 > Loading ACME certificates [omotenashi-tokyo.com]... ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:01Z DBG github.com/go-acme/lego/v4@v4.16.1/log/logger.go:48 > [INFO] [omotenashi-tokyo.com] acme: Obtaining bundled SAN certificate lib=lego
2024-06-04T14:19:02Z ERR github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:396 > Unable to obtain ACME certificate for domains error="unable to generate a certificate for the domains [omotenashi-tokyo.com]: acme: error: 429 :: POST :: https://acme-v02.api.letsencrypt.org/acme/new-order :: urn:ietf:params:acme:error:rateLimited :: Error creating new order :: too many certificates (5) already issued for this exact set of domains in the last 168 hours: omotenashi-tokyo.com, retry after 2024-06-05T15:35:22Z: see https://letsencrypt.org/docs/duplicate-certificate-limit/" ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory domains=["omotenashi-tokyo.com"] providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/challenge_tls.go:89 > TLS Challenge CleanUp temp certificate for traefik.omotenashi-tokyo.com providerName=tlsalpn.acme
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/server/configurationwatcher.go:227 > Configuration received config={"http":{},"tcp":{},"tls":{},"udp":{}} providerName=tlsalpn.acme
2024-06-04T14:19:05Z DBG github.com/go-acme/lego/v4@v4.16.1/log/logger.go:48 > [INFO] Deactivating auth: https://acme-v02.api.letsencrypt.org/acme/authz-v3/359585611197 lib=lego
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/tls/tlsmanager.go:321 > No default certificate, fallback to the internal generated certificate tlsStoreName=default
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_scheme.go:29 > Creating middleware entryPointName=web middlewareName=redirect-web-to-websecure@internal middlewareType=RedirectScheme routerName=web-to-websecure@internal
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_scheme.go:30 > Setting up redirection to https 443 entryPointName=web middlewareName=redirect-web-to-websecure@internal middlewareType=RedirectScheme routerName=web-to-websecure@internal
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=web middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/middlewares/stripprefix/strip_prefix.go:32 > Creating middleware entryPointName=traefik middlewareName=dashboard_stripprefix@internal middlewareType=StripPrefix routerName=dashboard@internal
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/middlewares/observability/middleware.go:33 > Adding tracing to middleware entryPointName=traefik middlewareName=dashboard_stripprefix@internal routerName=dashboard@internal
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_regex.go:17 > Creating middleware entryPointName=traefik middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex routerName=dashboard@internal
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/middlewares/redirect/redirect_regex.go:18 > Setting up redirection from ^(http:\/\/(\[[\w:.]+\]|[\w\._-]+)(:\d+)?)\/$ to ${1}/dashboard/ entryPointName=traefik middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex routerName=dashboard@internal
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/middlewares/observability/middleware.go:33 > Adding tracing to middleware entryPointName=traefik middlewareName=dashboard_redirect@internal routerName=dashboard@internal
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=traefik middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/server/service/service.go:259 > Creating load-balancer entryPointName=websecure routerName=web@docker serviceName=web@docker
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/server/service/service.go:301 > Creating server entryPointName=websecure routerName=web@docker serverName=3cfc64e09737f01e serviceName=web@docker target=http://172.23.0.3:3000
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/middlewares/recovery/recovery.go:22 > Creating middleware entryPointName=websecure middlewareName=traefik-internal-recovery middlewareType=Recovery
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/server/router/tcp/manager.go:237 > Adding route for traefik.omotenashi-tokyo.com with TLS options default entryPointName=websecure
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/server/router/tcp/manager.go:237 > Adding route for omotenashi-tokyo.com with TLS options default entryPointName=websecure
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:384 > Trying to challenge certificate for domain [traefik.omotenashi-tokyo.com] found in HostSNI rule ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:384 > Trying to challenge certificate for domain [omotenashi-tokyo.com] found in HostSNI rule ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:851 > Looking for provided certificate(s) to validate ["omotenashi-tokyo.com"]... ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:851 > Looking for provided certificate(s) to validate ["traefik.omotenashi-tokyo.com"]... ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:897 > Domains need ACME certificates generation for domains "omotenashi-tokyo.com". ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory domains=["omotenashi-tokyo.com"] providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:619 > Loading ACME certificates [omotenashi-tokyo.com]... ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:05Z DBG github.com/go-acme/lego/v4@v4.16.1/log/logger.go:48 > [INFO] [omotenashi-tokyo.com] acme: Obtaining bundled SAN certificate lib=lego
2024-06-04T14:19:05Z DBG github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:895 > No ACME certificate generation required for domains ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory domains=["traefik.omotenashi-tokyo.com"] providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:19:05Z ERR github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:396 > Unable to obtain ACME certificate for domains error="unable to generate a certificate for the domains [traefik.omotenashi-tokyo.com]: error: one or more domains had a problem:\n[traefik.omotenashi-tokyo.com] acme: error: 400 :: urn:ietf:params:acme:error:dns :: DNS problem: NXDOMAIN looking up A for traefik.omotenashi-tokyo.com - check that a DNS record exists for this domain; DNS problem: NXDOMAIN looking up AAAA for traefik.omotenashi-tokyo.com - check that a DNS record exists for this domain\n" ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory domains=["traefik.omotenashi-tokyo.com"] providerName=myresolver.acme routerName=traefik-dashboard@docker rule=Host(`traefik.omotenashi-tokyo.com`)
2024-06-04T14:19:05Z ERR github.com/traefik/traefik/v3/pkg/provider/acme/provider.go:396 > Unable to obtain ACME certificate for domains error="unable to generate a certificate for the domains [omotenashi-tokyo.com]: acme: error: 429 :: POST :: https://acme-v02.api.letsencrypt.org/acme/new-order :: urn:ietf:params:acme:error:rateLimited :: Error creating new order :: too many certificates (5) already issued for this exact set of domains in the last 168 hours: omotenashi-tokyo.com, retry after 2024-06-05T15:35:22Z: see https://letsencrypt.org/docs/duplicate-certificate-limit/" ACME CA=https://acme-v02.api.letsencrypt.org/directory acmeCA=https://acme-v02.api.letsencrypt.org/directory domains=["omotenashi-tokyo.com"] providerName=myresolver.acme routerName=web@docker rule=Host(`omotenashi-tokyo.com`)
2024-06-04T14:19:14Z DBG github.com/traefik/traefik/v3/pkg/tls/tlsmanager.go:228 > Serving default certificate for request: "omotenashi-tokyo.com"
2024-06-04T14:19:14Z DBG log/log.go:245 > http: TLS handshake error from 106.72.63.96:4784: remote error: tls: bad certificate
2024-06-04T14:19:25Z DBG github.com/traefik/traefik/v3/pkg/tls/tlsmanager.go:228 > Serving default certificate for request: "omotenashi-tokyo.com"
2024-06-04T14:19:25Z DBG log/log.go:245 > http: TLS handshake error from 106.72.63.96:4784: EOF
2024-06-04T14:19:25Z DBG github.com/traefik/traefik/v3/pkg/tls/tlsmanager.go:228 > Serving default certificate for request: "omotenashi-tokyo.com"
2024-06-04T14:19:25Z DBG log/log.go:245 > http: TLS handshake error from 106.72.63.96:4785: remote error: tls: bad certificate
2024-06-04T14:36:26Z INF github.com/traefik/traefik/v3/pkg/server/server.go:51 > I have to go...
2024-06-04T14:36:26Z INF github.com/traefik/traefik/v3/pkg/server/server.go:52 > Stopping server gracefully
2024-06-04T14:36:26Z DBG github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:287 > Waiting 10s seconds before killing connections entryPointName=web
2024-06-04T14:36:26Z DBG github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:287 > Waiting 10s seconds before killing connections entryPointName=websecure
2024-06-04T14:36:26Z ERR github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:229 > error="accept tcp [::]:443: use of closed network connection" entryPointName=websecure
2024-06-04T14:36:26Z ERR github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:664 > Error while starting server error="accept tcp [::]:443: use of closed network connection" entryPointName=websecure
2024-06-04T14:36:26Z ERR github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:229 > error="accept tcp [::]:80: use of closed network connection" entryPointName=web
2024-06-04T14:36:26Z DBG github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:287 > Waiting 10s seconds before killing connections entryPointName=traefik
2024-06-04T14:36:26Z DBG github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:145 > Entrypoint closed entryPointName=websecure
2024-06-04T14:36:26Z ERR github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:229 > error="accept tcp [::]:8080: use of closed network connection" entryPointName=traefik
2024-06-04T14:36:26Z ERR github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:664 > Error while starting server error="accept tcp [::]:8080: use of closed network connection" entryPointName=traefik
2024-06-04T14:36:26Z DBG github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:145 > Entrypoint closed entryPointName=traefik
2024-06-04T14:36:26Z ERR github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:305 > error="close tcp [::]:80: use of closed network connection" entryPointName=web
2024-06-04T14:36:26Z DBG github.com/traefik/traefik/v3/pkg/server/server_entrypoint_tcp.go:145 > Entrypoint closed entryPointName=web
2024-06-04T14:36:26Z INF github.com/traefik/traefik/v3/pkg/server/server.go:76 > Server stopped
2024-06-04T14:36:26Z INF github.com/traefik/traefik/v3/cmd/traefik/traefik.go:162 > Shutting down
